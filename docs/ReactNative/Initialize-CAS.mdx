---
title: Initialize CAS SDK
---
Before loading ads, initialize the CAS Mobile Ads SDK by calling `CASMobileAds.initialize(casId, options?)`. The call returns a `Promise<InitializationStatus>` that resolves when initialization completes.

The `casId` is a unique identifier for CAS content on each platform. You can use `demo` to force test-ads mode if you haven't registered a `casId` yet.

```ts
import { Platform } from 'react-native';
import { CASMobileAds } from 'react-native-cas';

async function initCAS() {
  const casId = Platform.select({ ios: 'YOUR_CAS_ID_IOS', android: 'YOUR_CAS_ID_ANDROID' })!;
  const status = await CASMobileAds.initialize(casId, {});
  if (status.error) {
    console.log(`CAS Mobile Ads SDK initialization failed: ${status.error}`);
  } else {
    console.log(`CAS Mobile Ads SDK initialized in ${status.countryCode} country`);
  }
}
```

If `initialize()` isn’t called manually, the first ad load will initialize the SDK with the CAS Id provided in the load arguments.

If an error occurs, the SDK attempts automatic re-initialization internally. However, the returned `Promise` is not updated with later status changes; call `initialize()` again for the latest `InitializationStatus`.

<Error>
Do not initialize mediated ad SDKs yourself — CAS does that for you.  
Ignoring this will cause integration issues.
</Error>

### Initialization parameters
<Property name="casId" type="string" required>
  The unique identifier of your CAS content. Use `demo` for test-ads mode when you don’t yet have a real id.
</Property>

---

<Property name="targetAudience" type="Audience" optional>
  App audience for regulatory handling (e.g., COPPA). Typical values: `UNDEFINED`, `CHILDREN`, `NOT_CHILDREN`.
</Property>

---

<Property name="showConsentFormIfRequired" type="boolean" optional>
  Shows the built-in consent flow automatically when required by the user’s geography.
</Property>

---

<Property name="forceTestAds" type="boolean" optional>
  Enables test ads for all devices (recommended during development).
</Property>

---

<Property name="testDeviceIds" type="string[]" optional>
  List of device IDs that should always request test ads (useful for testing in release builds).
</Property>

---

<Property name="debugGeography" type="PrivacyGeography" optional>
  Forces geography for consent testing (e.g., `EUROPEAN_ECONOMIC_AREA`) during test sessions.
</Property>

---

<Property name="mediationExtras" type="{ [key: string]: string }" optional>
  Network-specific extras (e.g., `FB_dp` for Meta LDU handling).
</Property>

---

## Automatic user consent flow
To collect user consent for personal data, use the built-in **Consent Flow**. It shows a consent form automatically during initialization.

```ts
import { CASMobileAds } from 'react-native-cas';

CASMobileAds.initialize('YOUR_CAS_ID', {
  showConsentFormIfRequired: true, // [!code highlight]
}).then((status) => {
  if (status.consentFlowStatus === 3 /* OBTAINED */) {
    console.log('CAS obtained user consent');
  }
});
```

Wait for the consent flow to complete before initializing third-party SDKs (MMPs, analytics), otherwise they may not have access to required identifiers.

<Info>
Read more about **Privacy options** and **Debug geography** on  
[CAS User Consent Flow](ReactNative/User-Consent-Flow).
</Info>

---

## Always test with test ads
Enable test ads during development so you can interact with ads safely.

```ts
import { CASMobileAds } from 'react-native-cas';

CASMobileAds.initialize('YOUR_CAS_ID', {
  forceTestAds: __DEV__, // [!code highlight]
  testDeviceIds: ['YOUR_TEST_DEVICE_ID'], // [!code highlight]
});
```

For more on test ads, see [Enable test ads](ReactNative/Enabling-test-ads).

---

## Prohibition on Personal Information from Children
Mark apps as child-directed or COPPA-applicable in the CAS UI. If you know specific users are COPPA-applicable, set the audience:

```ts
import { Audience, CASMobileAds } from 'react-native-cas';

CASMobileAds.initialize('YOUR_CAS_ID', {
  targetAudience: Audience.NOT_CHILDREN, // [!code highlight]
});
```

If your app targets both children and older users, implement a **neutral age screen** to ensure COPPA compliance.

---

## (Optional) Retrieve the Version Number
```ts
const sdkVersion = CASMobileAds.getSDKVersion();
```

---

## (Optional) Trial ad-free interval
```ts
const secondsIn7Days = 604800;
CASMobileAds.setTrialAdFreeInterval(secondsIn7Days);
```

---

## Complete example
- [Initialize CASMobileAds example]()
