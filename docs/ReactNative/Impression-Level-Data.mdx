---
title: Impression Level Data
---

CAS.AI SDK enables you to access detailed information for each impression through the impression callback APIs.  
The data includes which demand source served the ad and the exact or estimated revenue associated with it.  
This allows you to analyze and optimize your monetization and user acquisition strategies.

---

### AdContentInfo
The `AdContentInfo` structure contains information about a loaded or displayed ad.  
In React Native, this object is provided to the `onAdImpression` callback for each ad format.

```ts
import { AppOpenAd } from 'react-native-cas';

const unsubscribe = AppOpenAd.addAdImpressionEventListener((info) => {
  console.log('AppOpen impression:', info);
});
````

#### AdContentInfo fields

<Property name="format" type="string" required>
  The ad format (e.g. `Banner`, `MREC`, `Interstitial`, `Rewarded`, `AppOpen`).
</Property>

---

<Property name="revenue" type="number" required>
  The impression revenue in USD.  
  This value can be either estimated or precise depending on the network.
</Property>

---

<Property name="revenuePrecision" type="string" required>
  Indicates whether the revenue is `estimated` or `precise`.
</Property>

---

<Property name="sourceName" type="string" required>
  Display name of the ad network that purchased the impression.
</Property>

---

<Property name="sourceUnitId" type="string" required>
  The network’s ad unit ID that served this impression.
</Property>

---

<Property name="creativeId" type="string" optional>
  Creative identifier, if available.  
  Useful when reporting problematic or duplicate creatives.
</Property>

---

<Property name="revenueTotal" type="number" required>
  Accumulated ad revenue in USD across all formats for the current user.
</Property>

---

<Property name="impressionDepth" type="number" required>
  Total number of impressions shown to this user across all sessions.
</Property>

---

### Ad Impression callback

Each ad format exposes an impression callback with `AdContentInfo` details:

```ts
import {
  AppOpenAd,
  InterstitialAd,
  RewardedAd,
  type AdContentInfo,
} from 'react-native-cas';

function setAdImpressionCallbacks() {
  const unAppOpen = AppOpenAd.addAdImpressionEventListener(onAdImpression);
  const unInterstitial = InterstitialAd.addAdImpressionEventListener(onAdImpression);
  const unRewarded = RewardedAd.addAdImpressionEventListener(onAdImpression);

  return () => {
    unAppOpen();
    unInterstitial();
    unRewarded();
  };
}

function onAdImpression(impression: AdContentInfo) {
  // Called when an ad impression occurs.  
  const adPlatform = 'CAS';
  const adFormat = impression.format;
  const adSource = impression.sourceName;
  const adUnitName = impression.sourceUnitId;
  const value = impression.revenue;
  // All CAS revenue is sent in USD  
  const currency = 'USD';
}
```

For banners, attach the handler directly to the React component:

```tsx
<BannerAdView onAdViewImpression={(info) => onAdImpression(info)} />
```

---

### User ad summary
CAS tracks cumulative impression and revenue metrics that are included in each `AdContentInfo` payload:

```ts
const totalImpressions = impression.impressionDepth;
const totalRevenue = impression.revenueTotal;
```

<Info>
These counters persist between app sessions until the user clears your app’s data.
</Info>

---

## Automatic ad revenue collection
CAS SDK can automatically report ad revenue events to **Google Analytics** and **Tenjin Analytics**.
Contact your account manager for enabling these integrations.

---

### Google Analytics
To measure ad revenue with Google Analytics:

1. [Get started with Firebase Analytics](https://firebase.google.com/docs/analytics/get-started).
2. Link your Firebase project to a Google Analytics account.
3. Use CAS SDK **3.5.0+**.

The SDK automatically logs [`ad_impression`](https://firebase.google.com/docs/reference/android/com/google/firebase/analytics/FirebaseAnalytics.Event#public-static-final-string-ad_impression)
events whenever an ad is displayed.
Events include parameters such as ad platform, source, currency, and value.
Alternatively, CAS may log the event as `CAS_Impression`.

---

### Tenjin
1. [Integrate the Tenjin Android SDK](https://docs.tenjin.com/docs/android-sdk#basic-integration).
2. Ensure a Tenjin session is initialized, **or** pass your key to CAS SDK so it initializes Tenjin automatically:

   ```ts
   CASMobileAds.initialize('YOUR_CAS_ID', {
     mediationExtras: { tenjin_key: TENJIN_SDK_KEY },
   });
   ```
3. Use CAS SDK **3.7.2+**.


